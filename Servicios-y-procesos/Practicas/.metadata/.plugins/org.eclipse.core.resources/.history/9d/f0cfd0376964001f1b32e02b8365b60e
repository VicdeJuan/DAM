package ejercicio0;

import java.util.concurrent.RecursiveTask;

class SumTask extends RecursiveTask<Integer> {
	
	private static final long serialVersionUID = 1L;
	
	private static final int THRESHOLD = 10;
	private int[] array;
	private int start;
	private int end;

	public SumTask(int[] array, int start, int end) {
	    this.array = array;
	    this.start = start;
	    this.end = end;
	}

	@Override
	protected Integer compute() {
	    if (end - start <= THRESHOLD) {
	        int sum = 0;
	        for (int i = start; i < end; i++) {
	            sum += array[i];
	        }
	        return sum;
	    } else {
	        int mid = (start + end) / 2;
	        SumTask leftTask = new SumTask(array, start, mid);
	        SumTask rightTask = new SumTask(array, mid, end);
	        leftTask.fork(); // Divide la tarea en subtareas
	        int rightResult = rightTask.compute();
	        int leftResult = leftTask.join();
	        return leftResult + rightResult;
	    }
	}
}